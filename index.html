<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>HamClock Dashboard</title>
  <link href="https://fonts.googleapis.com/css2?family=Black+Ops+One&display=swap" rel="stylesheet">
  <style>
    html, body {
      margin: 0;
      padding: 0;
      font-family: 'Black Ops One', sans-serif;
      background-image: url('https://images.squarespace-cdn.com/content/v1/60e252b14def385c13193860/1631747950774-VNBJVYZBPBECJZZZD1R8/74809_1%2BBLACK_50.jpg');
      background-size: cover;
      background-position: center;
      color: red;
      height: 100%;
      overflow: hidden;
    }

    .container {
      position: relative;
      width: 100vw;
      height: 100vh;
    }

    iframe {
      border: none;
    }

    .solar-data {
      position: absolute;
      top: 10px;
      right: 10px;
      transform: scale(1);
      transform-origin: top right;
      z-index: 10;
    }

    .solar-data img {
      width: 100%;
      height: auto;
      display: block;
    }

    .map {
      position: absolute;
      top: 100px;
      left: 0;
      right: 0;
      bottom: 0;
      width: 100%;
      height: calc(100% - 100px);
      z-index: 1;
    }

    .nasa {
      position: absolute;
      bottom: 10px;
      left: 10px;
      width: 420px;
      height: 240px;
      z-index: 20;
    }

    .header-bar {
      position: absolute;
      top: 10px;
      left: 10px;
      right: 10px;
      height: 90px;
      display: flex;
      align-items: center;
      justify-content: flex-start;
      gap: 20px;
      z-index: 10;
    }

    .clock {
      width: 300px;
      height: 80px;
    }

    .header {
      font-size: 60px;
      text-shadow: 2px 2px black;
    }

    .map-buttons {
      display: flex;
      gap: 10px;
      margin-left: 20px;
    }

    .map-buttons button {
      padding: 10px 20px;
      border-radius: 15px;
      background-color: black;
      border: 2px solid red;
      color: red;
      font-size: 16px;
      cursor: pointer;
      font-family: 'Black Ops One', sans-serif;
    }

    .map-buttons button:hover {
      background-color: #330000;
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Clock + Callsign + Map Buttons -->
    <div class="header-bar">
      <div class="clock">
        <iframe src="timekeeper.html" width="300" height="80"></iframe>
      </div>
      <div class="header" id="callsign">Loading...</div>
      <div class="map-buttons">
        <button onclick="switchMap(1)">DIGI</button>
        <button onclick="switchMap(2)">WIND</button>
        <button onclick="switchMap(3)">SATINT</button>
		<button onclick="switchMap(4)">AEROINT</button>
      </div>
    </div>

    <!-- Solar Data Widget -->
    <div class="solar-data">
      <a href="https://www.hamqsl.com/solar.html" title="Click to add Solar-Terrestrial Data to your website!">
        <img src="https://www.hamqsl.com/solar101vhfpic.php" alt="Solar-Terrestrial Data">
      </a>
    </div>

    <!-- Map Viewer -->
    <div class="map" id="mapContainer">
      <iframe 
        id="mapFrame"
        src="https://pskreporter.info/pskmap.html?preset&callsign=xxxxxx&timerange=86400&hideunrec=1" 
        width="100%" 
        height="100%">
      </iframe>
    </div>

    <!-- NASA ISS Live Stream -->
    <div class="nasa">
      <!--iframe width="420" height="240" src="https://www.youtube.com/embed/cJzrYE5j6Ao" allowfullscreen></iframe-->
	  <iframe width="420" height="240" src="https://www.youtube.com/4b58558a-7b2b-44c6-b51d-7ec579b317c0" allowfullscreen></iframe>
    </div>
  </div>

  <script>
    // Get URL parameters
    const urlParams = new URLSearchParams(window.location.search);
    const callsign = urlParams.get('callsign') || 'NOCALL';

    // Update header text
    document.getElementById('callsign').textContent = callsign.toUpperCase();

    // Set initial map URLs
    const mapURLs = {
      1: 'https://pskreporter.info/pskmap.html?preset&callsign=${callsign}&timerange=86400&hideunrec=1',
      2: 'https://embed.windy.com/embed.html?type=map&location=coordinates&metricRain=default&metricTemp=default&metricWind=default&zoom=5&overlay=wind&product=ecmwf&level=surface&lat=38.564&lon=-121.442',
      3: 'https://stuffin.space/?intldes=1979-084H',
	  4: 'https://globe.adsbexchange.com/'
    };

    // Switch map function
    function switchMap(mapNumber) {
      const iframe = document.getElementById('mapFrame');
      iframe.src = mapURLs[mapNumber];
    }
  </script>
</body>
</html>



